<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <form onsubmit="return false" id="form">
        <input type="text" id="playerName" required>
        <button type="submit" onclick="Start()">Start</button>
        <button type="submit" onclick="test()">test</button>
    </form>
    <div id="error message"></div>
    <p id="messagefight"></p>
    <p id="Display"></p>
    <script>
        var force;
        var agile;
        var endurance;
        var hp;
        var po;
        var Inventory;
        var enduranceia=7;
        var forceia=5;
        var hpia;
        const possibleIAName=["Andre","Thibaud","Angamara","François","Romain","Robin","Romuald"];
        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max));
        }
        var iaName = possibleIAName[getRandomInt(6)];
        
        function DrawIA(){
            
            if (iaName=="Andre"){
                document.getElementById("Display").innerHTML = "<img src='Andre.png' width='300' height='500'>";
            }
            else if(iaName=="Thibaud"){
                document.getElementById("Display").innerHTML = "<img src='Thibaud.png' width='300' height='500'>";
            }
            else if(iaName=="Angamara"){
                document.getElementById("Display").innerHTML = "<img src='Angamara.png' width='300' height='500'>";
            }
            else if(iaName=="François"){
                document.getElementById("Display").innerHTML ="<img src='François.png' width='300' height='500'>"; 
            }
            else if(iaName=="Romain"){
                document.getElementById("Display").innerHTML ="<img src='Romain.png' width='300' height='500'>"; 
            }
            else if(iaName=="Robin"){
                document.getElementById("Display").innerHTML = "<img src='Robin.png' width='300' height='500'>";
            }
            else if(iaName=="Romuald"){
                document.getElementById("Display").innerHTML = "<img src='Romuald.png' width='300' height='500'>";
            }
        }
        function Start() {
            if (playerName = document.getElementById("playerName").value == "") {
            }
            else {
                playerName = document.getElementById("playerName").value;
                Menu();
            }

        }
        function Menu() {
            document.getElementById("form").innerHTML = "<button type='submit' onclick='Shop()'>Shop</button>" + "<button type='submit' onclick='Fight()''>Fight</button>" +
                "<button type='submit' onclick='Inventory()''>Inventory</button> ";
        }
        function Shop() {
            document.getElementById("form").innerHTML = "<button type='submit' onclick=''>Potion de Force </button>" +
                "<button type='submit' onclick=''>Potion d'agilité</button>" + "<button type='submit' onclick=''>Potion d'endurance</button>" + "<button type='submit' onclick=''>Petite potion de vie</button>" + "<button type='submit' onclick=''>Potion de vie</button>" + "<button type='submit' onclick='Menu()'>Menu</button>";
        }
        function Inventory() {
            document.getElementById("form").innerHTML = "";
            
        }

        function Hero() {
            endurance = 100;
            hp = endurance
            force = 10;
            agile = 10;
            po = 0;
            Inventory = [];
        }

        function IA(){
            enduranceia;
            hpia = enduranceia
            forceia;
        }

        function IAwin(){
            enduranceia++
            hpia=enduranceia
            forceia++
        }


        function potion_for() {
            endurance = force + 1;
            po = po - 2;
            (delete Inventory["potionFor"]);
            Inventory.splice(Inventory.indexOf("potionFor", 1));
        }
        function potion_agi() {
            agile = agile + 1;
            po = po - 2;
            Inventory.splice(Inventory.indexOf("potionAgi", 1));
        }
        function potion_endu() {
            endurance = endurance + 1;
            po = po - 1;
            Inventory.splice(Inventory.indexOf("potionEndu", 1));
        }
        function potion_Pvie() {
            hp = hp + 10;
            po = po - 3;
            Inventory.splice(Inventory.indexOf("potionPvie", 1));
        }
        function potion_Gvie() {
            hp = hp + 20;
            po = po - 5; 
            Inventory.splice(Inventory.indexOf("potionGvie", 1));
        }
        var chance = getRandomInt(100);

        function Fight() {
        DrawIA();
        Hero();
        IA();
        chance = getRandomInt(100 + 1);
        while(hp > 0 && hpia < 0 || hp < 0 && hpia > 0){
            document.getElementById("messagefight").innerHTML="Debut du combat ";
            if (chance < agile){
                
                hpia = hpia - force;
                document.getElementById("messagefight").innerHTML="Debut ";
                hp = hp - forceia;
            }else{
                hp = hp - forceia;
                document.getElementById("messagefight").innerHTML="Debut du combatfzzfeefzfze";
                hpia= hpia - force;
            }
        }
        if (hp = 0){
            document.getElementById("messagefight").innerHTML="Vous avez perdu !";
        }else if(hpia = 0){
            document.getElementById("messagefight").innerHTML="Vous avez gagner";
        }
    }






    </script>
</body>

</html>